<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Личный кабинет</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&amp;subset=cyrillic-ext">
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
</head>
<body>
    <div class="warp">
        <header>
            <nav class="main-menu">
                <div class="main-menu__wrap">
                    <div class="container">
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="js-menu-active">
                                    <a href="/main.html" class="brand center">Маркет Складской<br>Логистики</a>
                                    <div class="nav nav--menu">
                                        <button type="button" class="btn btn--menu nav-btn js-menu-activate"></button>
                                    </div>
                                    <div class="nav nav--geo hidden-xs hidden-sm">
                                        <button type="button" class="btn btn--geo nav-btn arrow arrow--up">Петропавловск</button>
                                    </div>
                                    <div class="nav nav--user hidden-xs">
                                        <a href="#!" class="btn btn--user nav-btn"><img src="/img/users/maks.jpg"> Максим Б.</a>
                                    </div>
                                    <div class="nav nav--messages hidden-xs hidden-sm">
                                        <button type="button" class="btn btn--messages nav-btn"></button>
                                    </div>
                                    <div class="nav nav--notices hidden-xs hidden-sm">
                                        <button type="button" class="btn btn--notices nav-btn"></button>
                                    </div>
                                </div>
                                <div class="hide js-menu-active">
                                    <a href="/main.html" class="brand left">Маркет Складской<br>Логистики</a>
                                    <div class="nav nav--close">
                                        <a href="#!" class="btn btn--close nav-btn js-menu-activate"><span class="close"></span></a>
                                    </div>
                                </div>
                            </div>
                        </div>    
                    </div>
                    <div class="main-menu__body hide js-menu-active">
                        <div class="container">
                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="visible-xs">
                                        <p>Личный кабинет</p>
                                        <ul>
                                            <li><a href="#!">Создать что-то</a></li>
                                            <li><a href="#!">Уведомления</a></li>
                                            <li><a href="#!">Сообщения</a></li>
                                            <li><a href="#!">Выйти</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-sm-4 col-sm-4 col-xs-6">
                                    <p>Аренда</p>
                                    <ul>
                                        <li><a href="#!">Предложения</a></li>
                                        <li><a href="#!">Запросы</a></li>
                                        <li><a href="#!">Категория 3</a></li>
                                        <li><a href="#!">Категория 4</a></li>
                                    </ul>
                                    <p>Услуги и товары</p>
                                    <ul>
                                        <li><a href="#!">Предложения</a></li>
                                        <li><a href="#!">Запросы</a></li>
                                        <li><a href="#!">Категория 3</a></li>
                                        <li><a href="#!">Категория 4</a></li>
                                    </ul>
                                    <p>Хозяйственные нужды</p>
                                    <ul>
                                        <li><a href="#!">Категория 1</a></li>
                                        <li><a href="#!">Категория 2</a></li>
                                        <li><a href="#!">Категория 3</a></li>
                                        <li><a href="#!">Категория 4</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-5 col-sm-4 col-xs-6">
                                    <p>Спецтехника и оборудование</p>
                                    <ul>
                                        <li><a href="#!">Предложения</a></li>
                                        <li><a href="#!">Запросы</a></li>
                                        <li><a href="#!">Категория 3</a></li>
                                        <li><a href="#!">Категория 4</a></li>
                                    </ul>
                                    <p>Безопасность</p>
                                    <ul>
                                        <li><a href="#!">Предложения</a></li>
                                        <li><a href="#!">Запросы</a></li>
                                        <li><a href="#!">Категория 3</a></li>
                                        <li><a href="#!">Категория 4</a></li>
                                    </ul>
                                    <p>Персонал</p>
                                    <ul>
                                        <li><a href="#!">Вакансии</a></li>
                                        <li><a href="#!">Резюме</a></li>
                                        <li><a href="#!">Категория 3</a></li>
                                        <li><a href="#!">Категория 4</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-3 col-sm-4 col-xs-12">
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12 col-xs-6">
                                        <p>О сервисе</p>
                                            <ul>
                                                <li><a href="#!">Частые вопросы</a></li>
                                                <li><a href="#!">О сервисе</a></li>
                                                <li><a href="#!">Поддержка</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-md-12 col-sm-12 col-xs-6">
                                            <p>Информация</p>
                                            <ul>
                                                <li><a href="#!">Категория 1</a></li>
                                                <li><a href="#!">Категория 2</a></li>
                                                <li><a href="#!">Категория 3</a></li>
                                                <li><a href="#!">Категория 4</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
        
        <main class="p-account">
            <section class="bg-s bg-s--none p-head">
                <div class="container">
                    <div class="row">
                        <div class="col-xs-12">
                            <ol class="breadcrumb">
                                <li><a href="/main.html"><span>Главная<span></a></li>
                                <li class="active"><span>Личный кабинет<span></li>
                            </ol>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <h1 class="page-name page-name--account">Личный кабинет</h1>
                        </div>
                        <div class="col-md-8">
                            <nav class="account-menu">
                                <div class="tabs-warp tabs-warp--link">
                                    <ul class="tab-list tab-list--link" id="current-offers--tabs">
                                        <li class="tab active"><a href="#current-offers_item-1" data-toggle="tab">Аренда</a></li>
                                        <li class="tab"><a href="#current-offers_item-2" data-toggle="tab">Клининг</a></li>
                                        <li class="tab"><a href="#current-offers_item-3" data-toggle="tab">Хоз. нужды</a></li>
                                        <li class="tab"><a href="#current-offers_item-4" data-toggle="tab">Спецтехника</a></li>
                                        <li class="tab"><a href="#current-offers_item-5" data-toggle="tab">Безопасность</a></li>
                                        <li class="tab"><a href="#current-offers_item-6" data-toggle="tab">Персонал</a></li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="bg-s bg-s--grey body-block">
                <div class="container">
                    <div class="row">
                        <div class="col-xs-3 col-md-3">
                            <div class="dropdown">
                                <div class="btn-group">
                                    <button type="button" class="btn btn--success btn--md btn--block arrow arrow--up arrow--small dropdown-toggle" data-toggle="dropdown">Создать</button>
                                    <ul class="dropdown-menu" role="menu">
                                        <li><a href="#">Создать запрос (услуги)</a></li>
                                        <li><a href="#">Создать предложение (услуги)</a></li>
                                        <li><a href="#">Создать запрос (аренда)</a></li>
                                        <li><a href="#">Создать предложение (аренда)</a></li>
                                        <li><a href="#">Создать резюме</a></li>
                                        <li><a href="#">Создать вакансию</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="panel panel-menu">
                                <ul class="panel-menu-list">
                                    <li><a href="#!" class="link--black">Обзор лучших предложений</a></li>
                                    <li><a href="#!" class="link--black">Обзор лучших потребностей</a></li>
                                </ul>
                            </div>
                            <div class="panel panel-menu panel-menu--main">
                                <ul class="panel-menu-list">
                                    <li class="active"><a href="#!" class="link--black">Мои предложения</a></li>
                                    <li><a href="#!" class="link--black">Мои потребности</a></li>
                                    <li><a href="#!" class="link--black">Мой персонал</a></li>
                                    <li><a href="#!" class="link--black">Сообщения</a></li>
                                    <li><a href="#!" class="link--black">Уведомления</a></li>
                                    <li><a href="#!" class="link--black">Настройки</a></li>
                                </ul>
                            </div>
                            <div class="map">
                                <div class="map-warp">
                                    <div class="map-body" id="map-in-left-menu"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-9 col-md-9">
                            <form class="form">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="form-group input-search-white">
                                            <input type="search" class="form-control input-md" id="form-search" placeholder="Введите поисковый запрос">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <button class="btn btn--geo-brand-20 btn--geo-link btn--block">Показать на карте</button>
                                    </div>
                                    <div class="col-md-4">
                                        <select id="form-sort-me" class="form-control type">
                                            <option>Показывать только мои</option>
                                            <option>Показывать все</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-5">
                                        <select id="form-sort-active" class="form-control type">
                                            <option>Показывать активные объявления</option>
                                            <option>Показывать все</option>
                                        </select>
                                    </div>
                                </div>
                            </form>

                            <table id="table" class="table table-responsive list-out bg-white"
                                   data-toggle="table"
                                   data-url="/json/data1.json"
                                   data-pagination-h-align="left"
                                   data-pagination-detail-h-align="right"
                                   data-pagination="true"
                                   data-page-size="10"
                                   data-search="false"
                                   data-sort-order="desc"
                                   data-sort-name="date"
                                   data-page-list="[10, 30, 50]"
                                   data-show-columns="false"
                                   data-click-to-select="false"
                                   data-single-select="false">
                                <thead>
                                <tr>
                                    <th data-field="number" data-align="center" data-width="45" data-formatter="numberRender"></th>
                                    <th data-field="preview" data-formatter="photoRender" class="preview"></th>
                                    <th data-field="object" data-formatter="squareRender" class="object">Объект</th>
                                    <th data-field="address" class="address mini">Адрес</th>
                                    <th data-field="cost" data-formatter="costRender" class="cost">Стоимость</th>
                                    <th data-field="date" class="date" data-align="center">Дата</th>
                                </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <footer class="main-footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-6 col-sm-5 col-md-3">
                    <h4>О компании</h4>
                    <p><a href="#!" class="link--light">О нас</a></p>
                    <p><a href="#!" class="link--light">FAQ</a></p>
                    <p><a href="#!" class="link--light">Карьера</a></p>
                    <p><a href="#!" class="link--light">Пользовательское соглашение</a></p>
                    <p><a href="#!" class="link--light">Политика конфиденциальности</a></p>
                    <p><a href="#!" class="link--light">Контакт / Поддержка</a></p>
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <h4>Дополнительные услуги</h4>
                    <p><a href="#!" class="link--light">Услуги для компаний</a></p>
                    <p><a href="#!" class="link--light">Лучшие предложения</a></p>
                    <p><a href="#!" class="link--light">Лучшие потребности</a></p>
                </div>
                <div class="hidden-xs col-sm-3 col-md-2">
                    <h4>Мы в соцсетях</h4>
                    <ul class="share-box list-inline">
                        <li><a class="link--light" href="#!" title="Мы в Twitter" target="_blank"><span class="icon icon--twitter-white icon--twitter-white-size"></span></a></li>
                        <li><a class="link--light" href="#!" title="Мы в VKontakte" target="_blank"><span class="icon icon--vk-white icon--vk-white-size"></span></a></li>
                        <li><a class="link--light" href="#!" title="Мы в Facebook" target="_blank"><span class="icon icon--fb-white icon--fb-white-size"></span></a></li>
                        <li><a class="link--light" href="#!" title="Мы в Instagram" target="_blank"><span class="icon icon--instagram-white icon--instagram-white-size"></span></a></li>
                    </ul>
                </div>
                <div class="hidden-xs hidden-sm col-md-4">
                    <h4>Подписка на рассылку</h4>
                    <form class="form form--subscribe-footer">
                        <input type="email" class="input-subscribe" placeholder="E-mail">
                        <button class="btn btn--primary" type="submit">Отправить</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="copyright">
            <div class="container">
                <div class="text-center">© Маркет Складской Логистики, 2017</div>
            </div>
        </div>
    </footer>
    
    <script src="/js/global.js"></script>
    <script src="/js/account.js"></script>
    <script src="/js/table.min.js"></script>
    <script>
        (function ($) {
            $table = $('#table');

            $table.on('click doubleclick', '.js-collapse-detail-view', function () {
                deleteDetailViewBlock();
            });

            $table.on('click-row.bs.table', function (e, row, $element, field) {
                deleteDetailViewBlock();
                $table.bootstrapTable('hideRow', {index: $element.attr('data-index')});
                expandDetailView(row, $element, field);
            });

            function deleteDetailViewBlock () {
                $table.find('tr.detail-view').remove();
                $table.find('tr:hidden').show();
            }
        })(jQuery);

        function expandDetailView(row, $element, field) {
            // тут тебе надо реализовать подмену имеющихся данных теми, что будут браться из json объекта для конкретно данной строки
            var html = '<tr class="detail-view"><td class="number" style="text-align: center; width: 45px; ">5</div></td>' +
                '<td colspan="3" class=""><div class="preview preview--slider"><div class="slider slider-item">' +
                '<div class="slide-item"><img src="/img/list-cart-1.jpg"></div>' +
                '<div class="slide-item"><img src="/img/list-cart-2.jpg"></div>' +
                '<div class="slide-label-count"><span class="icon icon--preload-white-25 icon--preload-white-25-size"></span>6</div>' +
                '</div></div>' +
                '<div class="description"><p>Уборка складских помещений. Быстро. Недорого. Круглосуточно.</p>' +
                '<p>20.11.2016</p></div></td>' +
                '<td style="vertical-align: top;"><div class="cost-block mini">' +
                '<span class="label">Стоимость</span>' +
                '<span class="main">500 &#8381;/м<sup>2</sup></span></div></td>' +
                '<td colspan="1" class=""><div class="contacts mini">' +
                '<div class="body">' +
                '<div class="body-description">' +
                '<span class="text-uppercase">Контакты</span>' +
                '<span class="body-description_phone">+7 495 812-**-54</span>' +
                '<a href="#!" class="body-description_phone-link">Показать контакты</a></div></div>' +
                '<div class="footer">' +
                '<button href="#!" class="btn btn--favorite-danger-25" title="Добавить в избранное"></button>' +
                '<button href="#!" class="btn btn--danger">Отправить запрос</button>' +
                '</div>' +
                '<div class="roll-w">' +
                '<button href="#!" class="btn btn--roll-25 btn--roll-25-link js-collapse-detail-view" title="Свернуть">&nbsp;</button>' +
                '</div></div></td></tr>';



            $element.after(html);

            setTimeout(function () {
                $('.detail-view .preview--slider .slider').slick({
                    slide: '.slide-item',
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    fade: true,
                });
            }, 150)
        }

        function photoRender(value, row, index) {
            return '<div class="photo" style="background-image: url(' + value + ');">' +
                '<a href="#!" target="_blank"><span class="count-warp"><span class="icon icon--preload-white-20 icon--preload-white-20-size"></span>' +
                '<span class="count">' + row.countPhoto + '</span></span></a></div>';
        }

        function numberRender(value, row, index) {
            return index + 1;
        }

        function squareRender(value, row, index) {
            return value + ' м<sup>2</sup>';
        }

        function costRender(value, row, index) {
            return value + ' руб./мес';
        }
    </script>
</body>
</html>
